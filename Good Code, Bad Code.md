> 이 책을 읽는 이유: 동료들과 더 좋은 코드 리뷰를 위해
> 

### CH01. 코드 품질

- 고품질의 코드는
    - 신뢰할 수 있고
    - 유지보수가 쉬우며
    - 요구 사항을 충족하는
    - 소프트웨어가 될 가능성을 최대한으로 높여줌
- 코드는 작동해야 한다
    - 당연한 코드의 첫 번째 목표
    - 원하는 목적대로 동작해야 함
- 코드는 작동이 멈추면 안 된다
    - 코드가 의존하는 다른 코드가 변경되더라도 작동하도록 해야 함
- 코드는 변경된 요구 사항에 적응할 수 있어야 한다
    - 변화하는 비지니스 환경과 사용자 선호에 따라 가정이 더이상 유효하지 않고 새로운 기능이 추가될 수 있음
    - 이에 쉽게 적응할 수 있어야 함
    - 하지만 너무 먼 미래를 고려하면 속도가 늦어지니 적당한 트레이드오프를 찾아야 함
- 코드는 이미 존재하는 기능을 중복 구현해서는 안 된다
    - 기존 코드를 재활용하면
        - 시간과 노력을 절약하고
        - 버그 가능성을 줄여주고
        - 기존 전문지식을 활용하며
        - 코드가 이해하기 쉬운
        - 효과를 얻을 수 있음
- 코드 품질의 핵심 요소 (6가지임)
    - 코드는 읽기 쉬워야 한다
    - 코드는 예측 가능해야 한다
    - 코드를 오용하기 어렵게 만들어라
    - 코드를 모듈화해라
    - 코드를 재사용 가능하고 일반화할 수 있게 작성하라
    - 테스트가 용이한 코드를 작성하고, 제대로 테스트해라

### CH02. 추상화 계층

- 문제를 해결하는 코드를 잘 구성하는 것은
    
    → 간결한 추상화 계층을 만드는 것으로 귀결될 때가 많음
    
- 왜 추상화 계층을 만들어야할까?
    - 이미 해결된 하위문제에 대해서 생각하지 않아도 되게 함
- 이를 위해서는 클래스도 잘 나눠야하고 함수도 잘 나눠야 함
    - 한 클래스가 300줄을 넘어간다는 것은 제대로 추상화되지 않았을 가능성이 높음
    - 클래스는 응집력이 높게 설계해야 함
        - 응집력은 순서에 의한 순차적 응집력과 기능에 의한 기능적 응집력이 있음
    - 예를 들어, 함수명이 너무 길어진다는 것은
        - 해당 함수가 두 가지 이상의 일을 하고 있거나
        - 해당 함수가 제대로 추상화되지 않았을
        - 가능성이 높음
- 하나의 하위 문제에 대해 (1) 둘 이상의 서로 다른 구체적인 구현이 가능하고 (2) 구현 클래스 사이에 전환이 필요하다면
    
    → 인터페이스를 사용하는 것이 좋음
    
    - 하지만 한 가지 구현만 존재하고 앞으로 다른 구현을 추가할 계획이 없다면 팀과 결정해야함
    - 이런 경우에는 인터페이스를 사용하는 것엔 장단점이 있으니 충분히 고민해보고 결정하자

### CH03. 다른 개발자와 코드 계약

- 다른 개발자들이 활발하게 코드를 변경하더라도 코드의 품질이 유지되려면 코드가 튼튼하고 사용하기 쉬워야 함
- 이를 위해 명심할 것
    - 자신에게 분명하다고 해서 다른 사람에게도 분명한 것은 아님
        
        → 이를 위해 주석을 많이 사용하는 것이 아닌, 코드 그 자체로 이해하기 쉽고 설명되게 해야함
        
    - 다른 개발자는 무의식중에 나의 코드를 망가뜨릴 수 있음
        
        → 내가 작성한 코드에 대해 테스트코드를 작성하고 이를 병합 전 체크하게 함으로써 망가지는 것을 방지해야함
        
    - 시간이 지나면 자신의 코드를 기억하지 못함
        
        → 위의 두 항목은 언제든지 나에게도 나의 코드에 대해 찾아올 수 있음
        
- 어떻게 내가 작성한 코드의 사용법을 다른 사람들이 알게할까?
    - 그들이 알아야할 내용
        - 여러 가지 상황에서 어떤 함수를 호출해야 하는지
        - 클래스가 무엇을 나타내고 언제 사용되어야 하는지
        - 어떤 값을 인수로 사용해야 하는지
        - 코드가 수행하는 동작이 무엇인지
        - 어떤 값을 반환하는지
    - 그리고 보통 이를 위해
        - 함수/클래스/열거형 등의 이름을 살펴보거나
        - 함수와 생성자의 매개변수 유형 or 반환값의 유형과 같은 데이터 유형을 살펴봄
    - 따라서 일단 뭐든지간에 “이름을 잘 지어야” 직관적으로 명확하게 전달할 수 있음
    - 또한, 코드가 오작동하지 않도록 데이터 유형을 잘 정해둬야함
    - 작성한 코드를 사용할 때 구체적인 제약 사항이 있다면 주석을 사용하는 것은 바람직하지 않을 수 있음
        
        → 코드 자체에 지켜진 순서를 따르지 않으면 적절한 에러를 발생시키거나 null을 반환하게 함으로써 해결해야함
        
        (예를 들어, 생성자를 호출하면 안되는 경우 아예 private으로 만들어버린다던지)
        
    - 이러한 해결 방법은 ‘상태’와 ‘가변성’을 최소화 or 외부로의 노출을 없앰